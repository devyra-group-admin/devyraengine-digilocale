import React, { useState, useEffect, useRef } from 'react';
import { Search, MapPin, Star, Phone, Navigation, Globe, ZoomIn, ZoomOut, X } from 'lucide-react';
import './App.css';

const App = () => {
  const [sidebarOpen, setSidebarOpen] = useState(false);
  const [selectedPlace, setSelectedPlace] = useState(null);
  const [selectedCategory, setSelectedCategory] = useState(null);
  const [showBottomNav, setShowBottomNav] = useState(false);
  const [searchQuery, setSearchQuery] = useState('');
  const [mapCenter, setMapCenter] = useState([-25.41682188170712, 30.10243602023188]);
  const [mapZoom, setMapZoom] = useState(16.5);
  const [viewMode, setViewMode] = useState('businesses'); // 'businesses', 'community', or 'bookings'
  const [selectedEventCategory, setSelectedEventCategory] = useState(null);
  const [selectedAccommodation, setSelectedAccommodation] = useState(null);
  const [checkInDate, setCheckInDate] = useState('');
  const [checkOutDate, setCheckOutDate] = useState('');
  const [guests, setGuests] = useState({ adults: 2, children: 0 });
  const [showGuestSelector, setShowGuestSelector] = useState(false);
  const mapRef = useRef(null);
  const mapInstanceRef = useRef(null);
  const markersRef = useRef([]);

  // Extended sample data . Need to fix some locations and also add real pictures
  const places = [
    {
      id: 1,
      name: "Duck & Trout Restaurant",
      category: "Food & Drink",
      description: "Popular pub and restaurant on the main street.",
      address: "Hugenote St, Dullstroom",
      position: [-25.42392769985406, 30.10037451338561],
      image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=400&h=300&fit=crop",
      featured: true
    },
    {
      id: 2,
      name: "Mrs Simpson's",
      category: "Food & Drink",
      description: "Cozy restaurant with local cuisine.",
      address: "Main Street, Dullstroom",
      position: [-25.41545673927404, 30.107736413385332],
      image: "https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=400&h=300&fit=crop"
    },
    {
      id: 3,
      name: "Critchley Hackle Lodge",
      category: "Accommodation",
      description: "Luxury lodge with scenic views.",
      address: "Dullstroom Area",
      position: [-25.418347743222068, 30.109825753861376],
      image: "https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop"
    },
    {
      id: 4,
      name: "Dullstroom Inn",
      category: "Accommodation",
      description: "Historic inn in the heart of town.",
      address: "Central Dullstroom",
      position: [-25.41494493857514, 30.10727345386131],
      image: "https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?w=400&h=300&fit=crop"
    },
  
    {
      id: 5,
      name: "Earth Gear",
      category: "Retail & Gifts",
      description: "Outdoor equipment and gifts.",
      address: "Shopping District",
      position: [-25.413330763950693, 30.11013720528195],
      image: "https://images.unsplash.com/photo-1441984904996-e0b6ba687e04?w=400&h=300&fit=crop"
    },

    {
      id: 6,
      name: "Mavungana",
      category: "Accommodation",
      description: "Comfortable accommodation with mountain views.",
      address: "Dullstroom",
      position: [-25.424415320795934, 30.10008468454961],
      image: "https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=400&h=300&fit=crop"
    },

    {
      id: 7,
      name: "Kosmas Stationery & Gift",
      category: "Retail & Gifts",
      description: "Stationery and unique gift items.",
      address: "Main Street, Dullstroom",
      position: [-25.412152156571196, 30.104644628018615],
      image: "https://images.unsplash.com/photo-1513885535751-8b9238bd345a?w=400&h=300&fit=crop"
    },

   
    {
      id: 8,
      name: "Birchcroft Preparatory School",
      category: "Tourism & Attractions",
      description: "Local educational institution.",
      address: "Dullstroom",
      position: [-25.41395311554934, 30.10588185006474],
      image: "https://images.unsplash.com/photo-1580582932707-520aed937b7b?w=400&h=300&fit=crop"
    },
    {
      id: 9,
      name: "The Montreo School",
      category: "Tourism & Attractions",
      description: "Private school in the highlands.",
      address: "Dullstroom Area",
      position: [-25.411059606266303, 30.101963360852068],
      image: "https://images.unsplash.com/photo-1509062522246-3755977927d7?w=400&h=300&fit=crop"
    },
    {
      id: 10,
      name: "Barlack Attorneys",
      category: "Property & Real Estate",
      description: "Legal services and property consultation.",
      address: "Dullstroom",
      position: [-25.41535905346672, 30.106519790495973],
      image: "https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=300&fit=crop"
    },
    {
      id: 11,
      name: "Zest Property Group",
      category: "Property & Real Estate",
      description: "Real estate services and property management.",
      address: "Dullstroom",
      position: [-25.41526686131065, 30.10289628896996],
      image: "https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&h=300&fit=crop"
    },
    {
      id: 12,
      name: "Farms, Lodges & Estates",
      category: "Outdoor & Adventure",
      description: "Experience farm life and outdoor activities.",
      address: "Dullstroom",
      position: [-25.42142053247414, 30.103432158910046],
      image: "https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=400&h=300&fit=crop"
    }
  ];

  const communityEvents = [
    {
      id: 1,
      title: "Weekend Market This Saturday!",
      author: "Dullstroom Events",
      category: "Local Events",
      timeAgo: "2h ago",
      description: "Join us this Saturday for the Dullstroom Market at Cherry Grove! Lots of local crafts, food, and live music.",
      image: "https://images.unsplash.com/photo-1533900298318-6b8da08a523e?w=400&h=200&fit=crop",
      comments: 18,
      likes: 32
    },
    {
      id: 2,
      title: "Hiring: Housekeeper Needed",
      author: "Big Oak Cottages",
      category: "Jobs & Vacancies",
      timeAgo: "3 days ago",
      description: "Looking for a reliable housekeeper. Experience preferred. Apply within.",
      image: "https://images.unsplash.com/photo-1556909075-f3e64e95b369?w=400&h=200&fit=crop",
      comments: 12,
      likes: 24
    },
    {
      id: 3,
      title: "Fishing Tips at Dullstroom Dam",
      author: "Paul's Tackle Shop",
      category: "Fishing & Outdoors",
      timeAgo: "1 day ago",
      description: "Check out the best baits and tactics for trout season!",
      image: "https://images.unsplash.com/photo-1551076805-e1869033e561?w=400&h=200&fit=crop",
      comments: 8,
      likes: 20
    },
    {
      id: 4,
      title: "Lost: Black & White Border Collie",
      author: "Mary L.",
      category: "Lost & Found",
      timeAgo: "4h ago",
      description: "Missing in the Oak Lane area. Please contact me if found!",
      image: "https://images.unsplash.com/photo-1551717743-49959800b1f6?w=400&h=200&fit=crop",
      comments: 14,
      likes: 15
    },
    {
      id: 5,
      title: "Community Clean-Up Day",
      author: "Dullstroom Municipality",
      category: "Community Projects",
      timeAgo: "5 days ago",
      description: "Join us next weekend for our monthly community clean-up initiative. Meet at the town hall at 8 AM.",
      image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&h=200&fit=crop",
      comments: 25,
      likes: 45
    }
  ];

  const eventCategories = [
    { name: "Local Events", icon: "üìÖ", color: "#3B82F6" },
    { name: "Jobs & Vacancies", icon: "üíº", color: "#F59E0B" },
    { name: "Lost & Found", icon: "üîç", color: "#10B981" },
    { name: "Fishing & Outdoors", icon: "üé£", color: "#06B6D4" },
    { name: "Local Services", icon: "üõ†Ô∏è", color: "#8B5CF6" },
    { name: "Community Projects", icon: "üè†", color: "#EF4444" }
  ];

  const accommodations = [
    {
      id: 1,
      name: "Lakefie Lodge",
      category: "Premium Lodge",
      rating: 4.9,
      reviews: 87,
      price: 2850,
      priceUnit: "per night",
      description: "Luxury lakeside lodge with stunning mountain views and world-class amenities. Perfect for romantic getaways.",
      address: "123 Riverside Rd, Dullstroom",
      phone: "+27 13 456 7890",
      website: "lakeflelodge.co.za",
      position: [-25.41935, 30.08856],
      images: [
        "https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop",
        "https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=300&fit=crop",
        "https://images.unsplash.com/photo-1564501049412-61c2a3083791?w=400&h=300&fit=crop"
      ],
      amenities: ["Free WiFi", "Breakfast Included", "Lake View", "Fireplace", "Spa"],
      maxGuests: 4,
      checkInTime: "15:00",
      checkOutTime: "11:00"
    },
    {
      id: 2,
      name: "Mountain View Cottage",
      category: "Cozy Cottage",
      rating: 4.7,
      reviews: 124,
      price: 1650,
      priceUnit: "per night",
      description: "Charming cottage nestled in the mountains with breathtaking views and modern comforts.",
      address: "45 Highland Road, Dullstroom",
      phone: "+27 13 456 7891",
      website: "mountaincottage.co.za",
      position: [-25.42156, 30.10892],
      images: [
        "https://images.unsplash.com/photo-1505142468610-359e7d316be0?w=400&h=300&fit=crop",
        "https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=300&fit=crop"
      ],
      amenities: ["Free WiFi", "Garden View", "BBQ Area", "Pet Friendly"],
      maxGuests: 6,
      checkInTime: "14:00",
      checkOutTime: "10:00"
    },
    {
      id: 3,
      name: "Riverside Retreat",
      category: "Boutique Hotel",
      rating: 4.8,
      reviews: 95,
      price: 2200,
      priceUnit: "per night",
      description: "Elegant riverside accommodation with luxury amenities and exceptional service.",
      address: "78 River Lane, Dullstroom",
      phone: "+27 13 456 7892",
      website: "riversideretreat.co.za",
      position: [-25.41789, 30.10234],
      images: [
        "https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=400&h=300&fit=crop",
        "https://images.unsplash.com/photo-1596394516093-501ba68a0ba6?w=400&h=300&fit=crop"
      ],
      amenities: ["Free WiFi", "Restaurant", "Room Service", "Conference Facilities"],
      maxGuests: 2,
      checkInTime: "15:00",
      checkOutTime: "12:00"
    }
  ];

  const categories = [
    { name: "Food & Drink", color: "#c77d3b", icon: "üç¥" },
    { name: "Accommodation", color: "#5a8ba8", icon: "üõèÔ∏è" },
    { name: "Retail & Gifts", color: "#e8b844", icon: "üéÅ" },
    { name: "Outdoor & Adventure", color: "#6b8e4e", icon: "üèïÔ∏è" },
    { name: "Tourism & Attractions", color: "#d4a853", icon: "üéØ" },
    { name: "Property & Real Estate", color: "#8b6f47", icon: "üè†" }
  ];

  const categoryColors = {
    "Food & Drink": "#c77d3b",
    "Accommodation": "#5a8ba8",
    "Retail & Gifts": "#e8b844",
    "Outdoor & Adventure": "#6b8e4e",
    "Tourism & Attractions": "#d4a853",
    "Property & Real Estate": "#8b6f47"
  };

  useEffect(() => {
    if (places.length > 0) {
      setSelectedPlace(places[0]);
    }
    // Set default booking dates
    const today = new Date();
    const tomorrow = new Date(today);
    tomorrow.setDate(tomorrow.getDate() + 1);
    const dayAfter = new Date(today);
    dayAfter.setDate(dayAfter.getDate() + 2);
    
    setCheckInDate(tomorrow.toISOString().split('T')[0]);
    setCheckOutDate(dayAfter.toISOString().split('T')[0]);
  }, []);

  // Initialize Leaflet map
  useEffect(() => {
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';
    document.head.appendChild(link);

    const script = document.createElement('script');
    script.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';
    script.async = true;
    
    script.onload = () => {
      if (!mapInstanceRef.current && mapRef.current && window.L) {
        const map = window.L.map(mapRef.current, {
          zoomControl: false
        }).setView(mapCenter, mapZoom);

        window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '¬© OpenStreetMap contributors',
          maxZoom: 20,
          crossOrigin: true
        }).addTo(map);

        // Fallback to alternative tile source if OpenStreetMap fails
        map.on('tileerror', () => {
          console.log('Tile loading error, trying alternative source...');
          window.L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
            attribution: '¬© OpenStreetMap contributors ¬© CARTO',
            maxZoom: 20
          }).addTo(map);
        });

        mapInstanceRef.current = map;
        updateMarkers();
      }
    };

    document.body.appendChild(script);

    return () => {
      if (mapInstanceRef.current) {
        mapInstanceRef.current.remove();
        mapInstanceRef.current = null;
      }
    };
  }, []);

  useEffect(() => {
    if (viewMode !== 'businesses' && viewMode !== 'bookings') {
      // Completely hide map when not in business or bookings mode
      if (mapInstanceRef.current && mapRef.current) {
        mapRef.current.style.display = 'none';
        mapRef.current.style.visibility = 'hidden';
        mapRef.current.style.position = 'absolute';
        mapRef.current.style.left = '-9999px';
        mapRef.current.style.top = '-9999px';
        mapRef.current.style.zIndex = '-1';
      }
    } else {
      // Show and position map correctly in business or bookings mode
      if (mapRef.current) {
        mapRef.current.style.display = 'block';
        mapRef.current.style.visibility = 'visible';
        mapRef.current.style.position = 'relative';
        mapRef.current.style.left = '0';
        mapRef.current.style.top = '0';
        mapRef.current.style.zIndex = '1';
      }
      if (mapInstanceRef.current) {
        // Set appropriate map center based on view mode
        if (viewMode === 'bookings') {
          // Center on Dullstroom for accommodations
          mapInstanceRef.current.setView([-25.41682188170712, 30.10243602023188], 14, { animate: true });
        } else {
          // Default center for businesses
          mapInstanceRef.current.setView(mapCenter, mapZoom, { animate: true });
        }
        updateMarkers();
        // Force map to refresh
        setTimeout(() => {
          if (mapInstanceRef.current) {
            mapInstanceRef.current.invalidateSize();
          }
        }, 100);
      }
    }
  }, [viewMode]);

  useEffect(() => {
    if (mapInstanceRef.current) {
      updateMarkers();
    }
  }, [selectedCategory, searchQuery, viewMode, selectedAccommodation]);

  const updateMarkers = () => {
    if (!mapInstanceRef.current || !window.L) return;

    markersRef.current.forEach(marker => marker.remove());
    markersRef.current = [];

    if (viewMode === 'businesses') {
      // Show business markers
      const placesToShow = places.filter(place => {
        const matchesCategory = selectedCategory ? place.category === selectedCategory : true;
        const matchesSearch = searchQuery 
          ? place.name.toLowerCase().includes(searchQuery.toLowerCase()) || 
            place.description.toLowerCase().includes(searchQuery.toLowerCase()) ||
            place.id.toString().includes(searchQuery)
          : true;
        return matchesCategory && matchesSearch;
      });

      placesToShow.forEach(place => {
        const isSelected = selectedPlace && selectedPlace.id === place.id;
        const categoryColor = categoryColors[place.category] || '#666';

        const iconHtml = `
          <div style="
            background-color: ${isSelected ? categoryColor : 'white'};
            border: 3px solid ${categoryColor};
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: ${isSelected ? 'scale(1.2)' : 'scale(1)'};
            transition: all 200ms ease;
            cursor: pointer;
          ">
            <span style="
              color: ${isSelected ? 'white' : categoryColor};
              font-size: 12px;
              font-weight: bold;
            ">${categoryIcons[place.category] || 'üìç'}</span>
          </div>`;

        const marker = window.L.marker(place.position, {
          icon: window.L.divIcon({
            html: iconHtml,
            className: 'custom-marker',
            iconSize: [24, 24],
            iconAnchor: [12, 12]
          })
        }).addTo(mapInstanceRef.current);

        marker.on('click', (e) => {
          e.originalEvent?.stopPropagation();
          setSelectedPlace(place);
          setSidebarOpen(true);
        });

        markersRef.current.push(marker);
      });
    } else if (viewMode === 'bookings') {
      // Show accommodation markers
      accommodations.forEach(accommodation => {
        const isSelected = selectedAccommodation && selectedAccommodation.id === accommodation.id;

        const iconHtml = `
          <div style="
            background-color: ${isSelected ? '#059669' : 'white'};
            border: 3px solid #059669;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transform: ${isSelected ? 'scale(1.3)' : 'scale(1)'};
            transition: all 200ms ease;
            cursor: pointer;
          ">
            <span style="
              color: ${isSelected ? 'white' : '#059669'};
              font-size: 14px;
              font-weight: bold;
            ">üè®</span>
          </div>`;

        const marker = window.L.marker(accommodation.position, {
          icon: window.L.divIcon({
            html: iconHtml,
            className: 'custom-marker',
            iconSize: [28, 28],
            iconAnchor: [14, 14]
          })
        }).addTo(mapInstanceRef.current);

        marker.on('click', (e) => {
          e.originalEvent?.stopPropagation();
          setSelectedAccommodation(accommodation);
          // Center map on selected accommodation
          mapInstanceRef.current.setView(accommodation.position, 16, { animate: true });
        });

        markersRef.current.push(marker);
      });
    }
  };

  const handleZoomIn = () => {
    if (mapInstanceRef.current) {
      mapInstanceRef.current.zoomIn();
    }
  };

  const handleAccommodationClick = (accommodation) => {
    setSelectedAccommodation(accommodation);
    if (mapInstanceRef.current) {
      mapInstanceRef.current.setView(accommodation.position, 16, { animate: true });
    }
  };

  const handleZoomOut = () => {
    if (mapInstanceRef.current) {
      mapInstanceRef.current.zoomOut();
    }
  };

  const handleRecenter = () => {
    if (mapInstanceRef.current) {
      if (selectedPlace) {
        mapInstanceRef.current.setView(selectedPlace.position, 16, { animate: true });
      } else {
        mapInstanceRef.current.setView(mapCenter, mapZoom, { animate: true });
      }
    }
  };

  const handleCategoryClick = (categoryName) => {
    if (selectedCategory === categoryName) {
      // If clicking the same category, clear selection
      setSelectedCategory(null);
      setSelectedPlace(null);
    } else {
      // Select new category
      setSelectedCategory(categoryName);
      setSelectedPlace(null);
    }
    // Keep category menu open for better UX
  };

  const handlePlaceClick = (place) => {
    setSelectedPlace(place);
    setSidebarOpen(true);
    // Do not reset selectedCategory here; let sidebar logic handle display
    if (mapInstanceRef.current) {
      mapInstanceRef.current.setView(place.position, 16, { animate: true });
    }
  };

  const filteredPlaces = places.filter(place => {
    const matchesCategory = selectedCategory ? place.category === selectedCategory : true;
    const matchesSearch = searchQuery 
      ? place.name.toLowerCase().includes(searchQuery.toLowerCase()) || 
        place.description.toLowerCase().includes(searchQuery.toLowerCase()) ||
        place.id.toString().includes(searchQuery)
      : true;
    return matchesCategory && matchesSearch;
  });

  const filteredEvents = communityEvents.filter(event => {
    const matchesCategory = selectedEventCategory ? event.category === selectedEventCategory : true;
    const matchesSearch = searchQuery
      ? event.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
        event.description.toLowerCase().includes(searchQuery.toLowerCase())
      : true;
    return matchesCategory && matchesSearch;
  });

  return (
    <div style={{
      width: '100vw',
      height: '100vh',
      display: 'flex',
      flexDirection: 'column',
      fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, sans-serif',
      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
      overflow: 'hidden'
    }}>
      {/* Sleek Header */}
      <div style={{
        background: '#FFFFFF',
        padding: '12px 24px',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'space-between',
        borderBottom: '1px solid rgba(255, 255, 255, 0.2)',
        boxShadow: '0 2px 12px rgba(0, 0, 0, 0.08)',
        zIndex: 1000,
        position: 'relative'
      }}>
        <div style={{
          display: 'flex',
          alignItems: 'center',
          gap: '16px'
        }}>
          <div style={{
            width: '36px',
            height: '36px',
            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
            borderRadius: '10px',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            color: 'white',
            fontSize: '16px',
            fontWeight: '700',
            boxShadow: '0 2px 8px rgba(102, 126, 234, 0.3)'
          }}>
            D
          </div>
          <div>
            <h1 style={{
              fontSize: '18px',
              fontWeight: '700',
              color: '#1A1A1A',
              margin: 0,
              letterSpacing: '-0.5px',
              background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
              WebkitBackgroundClip: 'text',
              WebkitTextFillColor: 'transparent'
            }}>Dullstroom Digital</h1>
            <p style={{
              fontSize: '11px',
              color: '#6B7280',
              margin: 0,
              fontWeight: '500',
              letterSpacing: '0.2px'
            }}>Discover ‚Ä¢ Connect ‚Ä¢ Explore</p>
          </div>
        </div>
        
        <div style={{
          display: 'flex',
          alignItems: 'center',
          gap: '16px'
        }}>
          {/* View Mode Toggle */}
          <div style={{
            display: 'flex',
            alignItems: 'center',
            gap: '8px',
            background: '#F3F4F6',
            padding: '4px',
            borderRadius: '12px'
          }}>
            <button
              onClick={() => {
                setViewMode('businesses');
                setSelectedEventCategory(null);
              }}
              style={{
                padding: '8px 16px',
                background: viewMode === 'businesses' ? '#FFFFFF' : 'transparent',
                color: viewMode === 'businesses' ? '#1F2937' : '#6B7280',
                border: 'none',
                borderRadius: '8px',
                cursor: 'pointer',
                fontSize: '13px',
                fontWeight: '600',
                transition: 'all 150ms ease',
                boxShadow: viewMode === 'businesses' ? '0 2px 4px rgba(0, 0, 0, 0.1)' : 'none'
              }}
            >
              üè™ Businesses
            </button>
            <button
              onClick={() => {
                setViewMode('community');
                setSelectedCategory(null);
                setSelectedPlace(null);
              }}
              style={{
                padding: '8px 16px',
                background: viewMode === 'community' ? '#FFFFFF' : 'transparent',
                color: viewMode === 'community' ? '#1F2937' : '#6B7280',
                border: 'none',
                borderRadius: '8px',
                cursor: 'pointer',
                fontSize: '13px',
                fontWeight: '600',
                transition: 'all 150ms ease',
                boxShadow: viewMode === 'community' ? '0 2px 4px rgba(0, 0, 0, 0.1)' : 'none'
              }}
            >
              üìã Community
            </button>
            <button
              onClick={() => {
                setViewMode('bookings');
                setSelectedCategory(null);
                setSelectedPlace(null);
                setSelectedEventCategory(null);
                setSelectedAccommodation(accommodations[0]);
              }}
              style={{
                padding: '8px 16px',
                background: viewMode === 'bookings' ? '#FFFFFF' : 'transparent',
                color: viewMode === 'bookings' ? '#1F2937' : '#6B7280',
                border: 'none',
                borderRadius: '8px',
                cursor: 'pointer',
                fontSize: '13px',
                fontWeight: '600',
                transition: 'all 150ms ease',
                boxShadow: viewMode === 'bookings' ? '0 2px 4px rgba(0, 0, 0, 0.1)' : 'none'
              }}
            >
              üè® Bookings
            </button>
          </div>
          
          <div style={{ position: 'relative', width: '280px' }}>
            <Search size={16} color="#9CA3AF" style={{
              position: 'absolute',
              left: '12px',
              top: '50%',
              transform: 'translateY(-50%)',
              zIndex: 1
            }} />
            <input
              type="text"
              placeholder="Search businesses..."
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
              style={{
                width: '100%',
                padding: '10px 12px 10px 36px',
                border: 'none',
                borderRadius: '12px',
                fontSize: '13px',
                backgroundColor: 'rgba(247, 250, 252, 0.8)',
                color: '#374151',
                transition: 'all 200ms ease',
                outline: 'none',
                boxShadow: '0 2px 8px rgba(0, 0, 0, 0.06)',
                backdropFilter: 'blur(10px)'
              }}
              onFocus={(e) => {
                e.target.style.backgroundColor = 'rgba(255, 255, 255, 0.95)';
                e.target.style.boxShadow = '0 8px 32px rgba(102, 126, 234, 0.2)';
                e.target.style.transform = 'translateY(-1px)';
              }}
              onBlur={(e) => {
                e.target.style.backgroundColor = 'rgba(247, 250, 252, 0.8)';
                e.target.style.boxShadow = '0 4px 16px rgba(0, 0, 0, 0.08)';
                e.target.style.transform = 'translateY(0)';
              }}
            />
          </div>
        </div>
      </div>

      {/* Main Content */}
      <div style={{
        flex: 1,
        display: 'flex',
        position: 'relative',
        overflow: 'hidden'
      }}>
        {viewMode === 'businesses' ? (
          /* Business Directory View */
          <>
            {/* Always Visible Category Sidebar */}
            <div style={{
              width: '280px',
              background: '#FFFFFF',
              display: 'flex',
              flexDirection: 'column',
              borderRight: '1px solid #E5E7EB',
              boxShadow: '0 2px 4px rgba(0, 0, 0, 0.04)'
            }}>
          <div style={{
            padding: '20px',
            borderBottom: '1px solid #F3F4F6'
          }}>
            <h2 style={{
              fontSize: '16px',
              fontWeight: '600',
              color: '#1F2937',
              margin: '0 0 16px 0'
            }}>Categories</h2>
            
            <div style={{
              display: 'grid',
              gap: '8px'
            }}>
              {categories.map((cat, idx) => (
                <button
                  key={idx}
                  onClick={() => handleCategoryClick(cat.name)}
                  style={{
                    padding: '12px 16px',
                    background: selectedCategory === cat.name ? '#EBF8FF' : '#FFFFFF',
                    border: selectedCategory === cat.name ? '2px solid #6366F1' : '1px solid #E5E7EB',
                    borderRadius: '8px',
                    cursor: 'pointer',
                    display: 'flex',
                    alignItems: 'center',
                    gap: '12px',
                    fontSize: '14px',
                    fontWeight: '500',
                    color: selectedCategory === cat.name ? '#6366F1' : '#374151',
                    textAlign: 'left',
                    transition: 'all 150ms ease',
                    width: '100%'
                  }}
                  onMouseEnter={(e) => {
                    if (selectedCategory !== cat.name) {
                      e.target.style.backgroundColor = '#F9FAFB';
                      e.target.style.borderColor = '#D1D5DB';
                    }
                  }}
                  onMouseLeave={(e) => {
                    if (selectedCategory !== cat.name) {
                      e.target.style.backgroundColor = '#FFFFFF';
                      e.target.style.borderColor = '#E5E7EB';
                    }
                  }}
                >
                  <span style={{ 
                    fontSize: '18px',
                    width: '28px',
                    textAlign: 'center'
                  }}>{cat.icon}</span>
                  <span style={{ flex: 1 }}>{cat.name}</span>
                  <span style={{
                    fontSize: '11px',
                    color: '#9CA3AF',
                    backgroundColor: selectedCategory === cat.name ? 'rgba(99, 102, 241, 0.2)' : 'rgba(0, 0, 0, 0.05)',
                    padding: '3px 8px',
                    borderRadius: '10px',
                    fontWeight: '600'
                  }}>
                    {places.filter(p => p.category === cat.name).length}
                  </span>
                </button>
              ))}
              
              {/* Clear selection button */}
              {selectedCategory && (
                <button
                  onClick={() => {
                    setSelectedCategory(null);
                    setSelectedPlace(null);
                  }}
                  style={{
                    padding: '8px 16px',
                    background: '#F3F4F6',
                    border: '1px solid #D1D5DB',
                    borderRadius: '6px',
                    cursor: 'pointer',
                    fontSize: '12px',
                    fontWeight: '500',
                    color: '#6B7280',
                    textAlign: 'center',
                    transition: 'all 150ms ease',
                    marginTop: '8px'
                  }}
                  onMouseEnter={(e) => {
                    e.target.style.backgroundColor = '#E5E7EB';
                  }}
                  onMouseLeave={(e) => {
                    e.target.style.backgroundColor = '#F3F4F6';
                  }}
                >
                  ‚úï Clear Filter
                </button>
              )}
            </div>
          </div>
          
          {/* Places List */}
          <div style={{
            flex: 1,
            overflow: 'auto',
            padding: '20px'
          }}>
            {selectedCategory ? (
              <div>
                <h3 style={{
                  fontSize: '14px',
                  fontWeight: '600',
                  color: '#374151',
                  margin: '0 0 16px 0'
                }}>{selectedCategory} ({filteredPlaces.length})</h3>
                
                <div style={{ display: 'grid', gap: '10px' }}>
                  {filteredPlaces.map((place) => (
                    <div
                      key={place.id}
                      onClick={() => handlePlaceClick(place)}
                      style={{
                        padding: '12px',
                        backgroundColor: selectedPlace?.id === place.id ? '#EBF8FF' : '#FFFFFF',
                        border: selectedPlace?.id === place.id ? '1px solid #6366F1' : '1px solid #E5E7EB',
                        borderRadius: '8px',
                        cursor: 'pointer',
                        transition: 'all 150ms ease'
                      }}
                      onMouseEnter={(e) => {
                        if (selectedPlace?.id !== place.id) {
                          e.target.style.backgroundColor = '#F9FAFB';
                          e.target.style.borderColor = '#D1D5DB';
                        }
                      }}
                      onMouseLeave={(e) => {
                        if (selectedPlace?.id !== place.id) {
                          e.target.style.backgroundColor = '#FFFFFF';
                          e.target.style.borderColor = '#E5E7EB';
                        }
                      }}
                    >
                      <div style={{
                        display: 'flex',
                        alignItems: 'flex-start',
                        gap: '12px'
                      }}>
                        <img
                          src={place.image}
                          alt={place.name}
                          style={{
                            width: '40px',
                            height: '40px',
                            borderRadius: '8px',
                            objectFit: 'cover',
                            flexShrink: 0
                          }}
                        />
                        <div style={{ flex: 1, minWidth: 0 }}>
                          <h4 style={{
                            fontSize: '13px',
                            fontWeight: '600',
                            color: '#1F2937',
                            margin: '0 0 4px 0',
                            overflow: 'hidden',
                            textOverflow: 'ellipsis',
                            whiteSpace: 'nowrap'
                          }}>{place.name}</h4>
                          <p style={{
                            fontSize: '11px',
                            color: '#6B7280',
                            margin: '0 0 6px 0',
                            lineHeight: '1.4',
                            display: '-webkit-box',
                            WebkitLineClamp: 2,
                            WebkitBoxOrient: 'vertical',
                            overflow: 'hidden'
                          }}>{place.description}</p>
                          <div style={{
                            display: 'flex',
                            alignItems: 'center',
                            gap: '4px',
                            fontSize: '10px',
                            color: '#9CA3AF'
                          }}>
                            <MapPin size={10} />
                            <span>{place.address}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            ) : (
              <div style={{
                textAlign: 'center',
                color: '#9CA3AF',
                fontSize: '14px',
                padding: '20px 0'
              }}>
                <div style={{ fontSize: '32px', marginBottom: '12px' }}>üóÇÔ∏è</div>
                <p style={{ margin: 0 }}>Select a category to browse businesses</p>
              </div>
            )}
          </div>
            </div>

            {/* Map Container */}
        <div style={{
          flex: 1,
          position: 'relative',
          background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)'
        }}>
          <div ref={mapRef} style={{
            width: '100%',
            height: '100%',
            border: 'none',
            borderRadius: selectedPlace ? '0' : '0 24px 0 0',
            background: '#f5f7fa',
            position: 'relative',
            zIndex: 1,
            overflow: 'hidden'
          }}></div>

          {/* Map Controls */}
          <div style={{
            position: 'absolute',
            top: '16px',
            right: '16px',
            display: 'flex',
            flexDirection: 'column',
            gap: '8px',
            zIndex: 400
          }}>
            <button
              onClick={handleRecenter}
              style={{
                padding: '10px',
                background: 'rgba(255, 255, 255, 0.95)',
                color: '#374151',
                border: 'none',
                borderRadius: '16px',
                cursor: 'pointer',
                boxShadow: '0 8px 32px rgba(0, 0, 0, 0.12)',
                transition: 'all 200ms ease'
              }}
              onMouseEnter={(e) => {
                e.target.style.transform = 'translateY(-2px) scale(1.05)';
                e.target.style.boxShadow = '0 12px 40px rgba(0, 0, 0, 0.15)';
              }}
              onMouseLeave={(e) => {
                e.target.style.transform = 'translateY(0) scale(1)';
                e.target.style.boxShadow = '0 8px 32px rgba(0, 0, 0, 0.12)';
              }}
            >
              <MapPin size={20} />
            </button>
          </div>

          {/* Modern Zoom Controls */}
          <div style={{
            position: 'absolute',
            top: '16px',
            left: '16px',
            display: 'flex',
            flexDirection: 'column',
            gap: '4px',
            zIndex: 400,
            background: 'rgba(255, 255, 255, 0.95)',
            borderRadius: '12px',
            padding: '6px',
            backdropFilter: 'blur(10px)',
            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.12)'
          }}>
            <button
              onClick={handleZoomIn}
              style={{
                padding: '12px',
                backgroundColor: 'transparent',
                color: '#374151',
                border: 'none',
                borderRadius: '12px',
                cursor: 'pointer',
                transition: 'all 150ms ease',
                width: '40px',
                height: '40px',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center'
              }}
              onMouseEnter={(e) => {
                e.target.style.backgroundColor = 'rgba(102, 126, 234, 0.1)';
                e.target.style.color = '#667eea';
              }}
              onMouseLeave={(e) => {
                e.target.style.backgroundColor = 'transparent';
                e.target.style.color = '#374151';
              }}
            >
              <ZoomIn size={18} />
            </button>
            <button
              onClick={handleZoomOut}
              style={{
                padding: '12px',
                backgroundColor: 'transparent',
                color: '#374151',
                border: 'none',
                borderRadius: '12px',
                cursor: 'pointer',
                transition: 'all 150ms ease',
                width: '40px',
                height: '40px',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center'
              }}
              onMouseEnter={(e) => {
                e.target.style.backgroundColor = 'rgba(102, 126, 234, 0.1)';
                e.target.style.color = '#667eea';
              }}
              onMouseLeave={(e) => {
                e.target.style.backgroundColor = 'transparent';
                e.target.style.color = '#374151';
              }}
            >
              <ZoomOut size={18} />
            </button>
          </div>
        </div>
          </>
        ) : viewMode === 'community' ? (
          /* Community Events View */
          <>
            {/* Event Categories Sidebar */}
            <div style={{
              width: '280px',
              background: '#FFFFFF',
              display: 'flex',
              flexDirection: 'column',
              borderRight: '1px solid #E5E7EB',
              boxShadow: '0 2px 4px rgba(0, 0, 0, 0.04)'
            }}>
              <div style={{
                padding: '20px',
                borderBottom: '1px solid #F3F4F6'
              }}>
                <h2 style={{
                  fontSize: '16px',
                  fontWeight: '600',
                  color: '#1F2937',
                  margin: '0 0 16px 0'
                }}>Community Boards</h2>
                
                <div style={{
                  display: 'grid',
                  gap: '8px'
                }}>
                  {eventCategories.map((cat, idx) => (
                    <button
                      key={idx}
                      onClick={() => setSelectedEventCategory(selectedEventCategory === cat.name ? null : cat.name)}
                      style={{
                        padding: '12px 16px',
                        background: selectedEventCategory === cat.name ? '#EBF8FF' : '#FFFFFF',
                        border: selectedEventCategory === cat.name ? '2px solid #6366F1' : '1px solid #E5E7EB',
                        borderRadius: '8px',
                        cursor: 'pointer',
                        display: 'flex',
                        alignItems: 'center',
                        gap: '12px',
                        fontSize: '14px',
                        fontWeight: '500',
                        color: selectedEventCategory === cat.name ? '#6366F1' : '#374151',
                        textAlign: 'left',
                        transition: 'all 150ms ease',
                        width: '100%'
                      }}
                      onMouseEnter={(e) => {
                        if (selectedEventCategory !== cat.name) {
                          e.target.style.backgroundColor = '#F9FAFB';
                          e.target.style.borderColor = '#D1D5DB';
                        }
                      }}
                      onMouseLeave={(e) => {
                        if (selectedEventCategory !== cat.name) {
                          e.target.style.backgroundColor = '#FFFFFF';
                          e.target.style.borderColor = '#E5E7EB';
                        }
                      }}
                    >
                      <span style={{ fontSize: '18px' }}>{cat.icon}</span>
                      <span style={{ flex: 1 }}>{cat.name}</span>
                      <span style={{
                        fontSize: '11px',
                        color: '#9CA3AF',
                        backgroundColor: selectedEventCategory === cat.name ? 'rgba(99, 102, 241, 0.2)' : 'rgba(0, 0, 0, 0.05)',
                        padding: '3px 8px',
                        borderRadius: '10px',
                        fontWeight: '600'
                      }}>
                        {communityEvents.filter(e => e.category === cat.name).length}
                      </span>
                    </button>
                  ))}
                </div>
              </div>
            </div>

            {/* Events Feed */}
            <div style={{
              flex: 1,
              background: '#F9FAFB',
              overflow: 'auto',
              padding: '20px'
            }}>
              <div style={{
                maxWidth: '600px',
                margin: '0 auto',
                display: 'grid',
                gap: '20px'
              }}>
                {filteredEvents.map((event) => (
                  <div
                    key={event.id}
                    style={{
                      background: '#FFFFFF',
                      borderRadius: '12px',
                      overflow: 'hidden',
                      boxShadow: '0 2px 8px rgba(0, 0, 0, 0.06)',
                      transition: 'all 200ms ease'
                    }}
                    onMouseEnter={(e) => {
                      e.target.style.boxShadow = '0 8px 32px rgba(0, 0, 0, 0.12)';
                      e.target.style.transform = 'translateY(-2px)';
                    }}
                    onMouseLeave={(e) => {
                      e.target.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.06)';
                      e.target.style.transform = 'translateY(0)';
                    }}
                  >
                    <div style={{ padding: '20px' }}>
                      <div style={{
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'space-between',
                        marginBottom: '12px'
                      }}>
                        <div style={{
                          display: 'flex',
                          alignItems: 'center',
                          gap: '8px'
                        }}>
                          <span style={{
                            fontSize: '12px',
                            fontWeight: '600',
                            color: eventCategories.find(c => c.name === event.category)?.color || '#6B7280',
                            background: `${eventCategories.find(c => c.name === event.category)?.color || '#6B7280'}20`,
                            padding: '4px 8px',
                            borderRadius: '6px'
                          }}>
                            {eventCategories.find(c => c.name === event.category)?.icon} {event.category}
                          </span>
                          <span style={{
                            fontSize: '12px',
                            color: '#9CA3AF'
                          }}>‚Ä¢ {event.timeAgo}</span>
                        </div>
                      </div>
                      
                      <h3 style={{
                        fontSize: '18px',
                        fontWeight: '700',
                        color: '#1F2937',
                        margin: '0 0 8px 0',
                        lineHeight: '1.4'
                      }}>{event.title}</h3>
                      
                      <p style={{
                        fontSize: '14px',
                        color: '#4B5563',
                        margin: '0 0 12px 0',
                        fontWeight: '500'
                      }}>by {event.author}</p>
                      
                      <p style={{
                        fontSize: '14px',
                        color: '#6B7280',
                        lineHeight: '1.6',
                        margin: '0 0 16px 0'
                      }}>{event.description}</p>
                    </div>
                    
                    <img
                      src={event.image}
                      alt={event.title}
                      style={{
                        width: '100%',
                        height: '200px',
                        objectFit: 'cover'
                      }}
                    />
                    
                    <div style={{
                      padding: '16px 20px',
                      borderTop: '1px solid #F3F4F6',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '20px'
                    }}>
                      <button style={{
                        display: 'flex',
                        alignItems: 'center',
                        gap: '6px',
                        background: 'none',
                        border: 'none',
                        color: '#6B7280',
                        fontSize: '14px',
                        cursor: 'pointer',
                        padding: '4px 0'
                      }}>
                        üëç Like {event.likes}
                      </button>
                      <button style={{
                        display: 'flex',
                        alignItems: 'center',
                        gap: '6px',
                        background: 'none',
                        border: 'none',
                        color: '#6B7280',
                        fontSize: '14px',
                        cursor: 'pointer',
                        padding: '4px 0'
                      }}>
                        üí¨ {event.comments} Comments
                      </button>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </>
        ) : viewMode === 'bookings' ? (
          /* Bookings View */
          <>
            {/* Accommodation Sidebar */}
            <div style={{
              width: '320px',
              background: '#FFFFFF',
              display: 'flex',
              flexDirection: 'column',
              borderRight: '1px solid #E5E7EB',
              boxShadow: '0 2px 4px rgba(0, 0, 0, 0.04)'
            }}>
              <div style={{
                padding: '20px',
                borderBottom: '1px solid #F3F4F6'
              }}>
                <h2 style={{
                  fontSize: '16px',
                  fontWeight: '600',
                  color: '#1F2937',
                  margin: '0 0 16px 0'
                }}>Accommodations</h2>
                
                <div style={{
                  display: 'grid',
                  gap: '12px'
                }}>
                  {accommodations.map((accommodation) => (
                    <div
                      key={accommodation.id}
                      onClick={() => handleAccommodationClick(accommodation)}
                      style={{
                        padding: '16px',
                        background: selectedAccommodation?.id === accommodation.id ? '#EBF8FF' : '#FFFFFF',
                        border: selectedAccommodation?.id === accommodation.id ? '2px solid #6366F1' : '1px solid #E5E7EB',
                        borderRadius: '12px',
                        cursor: 'pointer',
                        transition: 'all 150ms ease'
                      }}
                      onMouseEnter={(e) => {
                        if (selectedAccommodation?.id !== accommodation.id) {
                          e.target.style.backgroundColor = '#F9FAFB';
                          e.target.style.borderColor = '#D1D5DB';
                        }
                      }}
                      onMouseLeave={(e) => {
                        if (selectedAccommodation?.id !== accommodation.id) {
                          e.target.style.backgroundColor = '#FFFFFF';
                          e.target.style.borderColor = '#E5E7EB';
                        }
                      }}
                    >
                      <img
                        src={accommodation.images[0]}
                        alt={accommodation.name}
                        style={{
                          width: '100%',
                          height: '120px',
                          borderRadius: '8px',
                          objectFit: 'cover',
                          marginBottom: '12px'
                        }}
                      />
                      <h3 style={{
                        fontSize: '14px',
                        fontWeight: '700',
                        color: '#1F2937',
                        margin: '0 0 6px 0'
                      }}>{accommodation.name}</h3>
                      <div style={{
                        display: 'flex',
                        alignItems: 'center',
                        gap: '8px',
                        marginBottom: '8px'
                      }}>
                        <div style={{
                          display: 'flex',
                          alignItems: 'center',
                          gap: '4px'
                        }}>
                          {[...Array(5)].map((_, i) => (
                            <span key={i} style={{
                              color: i < Math.floor(accommodation.rating) ? '#F59E0B' : '#E5E7EB',
                              fontSize: '12px'
                            }}>‚≠ê</span>
                          ))}
                        </div>
                        <span style={{
                          fontSize: '12px',
                          color: '#6B7280',
                          fontWeight: '500'
                        }}>{accommodation.rating} ({accommodation.reviews} reviews)</span>
                      </div>
                      <div style={{
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'space-between'
                      }}>
                        <span style={{
                          fontSize: '12px',
                          color: '#6B7280'
                        }}>{accommodation.category}</span>
                        <span style={{
                          fontSize: '14px',
                          fontWeight: '700',
                          color: '#059669'
                        }}>R{accommodation.price}</span>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>

            {/* Map Container */}
            <div style={{
              flex: 1,
              position: 'relative',
              background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)'
            }}>
              <div ref={mapRef} style={{
                width: '100%',
                height: '100%',
                border: 'none',
                background: '#f5f7fa',
                position: 'relative',
                zIndex: 1,
                overflow: 'hidden'
              }}></div>

              {/* Map Controls */}
              <div style={{
                position: 'absolute',
                top: '16px',
                right: '16px',
                display: 'flex',
                flexDirection: 'column',
                gap: '8px',
                zIndex: 400
              }}>
                <button
                  onClick={handleRecenter}
                  style={{
                    padding: '10px',
                    background: 'rgba(255, 255, 255, 0.95)',
                    color: '#374151',
                    border: 'none',
                    borderRadius: '16px',
                    cursor: 'pointer',
                    boxShadow: '0 8px 32px rgba(0, 0, 0, 0.12)',
                    transition: 'all 200ms ease'
                  }}
                >
                  <MapPin size={20} />
                </button>
              </div>

              {/* Zoom Controls */}
              <div style={{
                position: 'absolute',
                top: '16px',
                left: '16px',
                display: 'flex',
                flexDirection: 'column',
                gap: '4px',
                zIndex: 400,
                background: 'rgba(255, 255, 255, 0.95)',
                borderRadius: '12px',
                padding: '6px',
                backdropFilter: 'blur(10px)',
                boxShadow: '0 8px 32px rgba(0, 0, 0, 0.12)'
              }}>
                <button
                  onClick={handleZoomIn}
                  style={{
                    padding: '12px',
                    backgroundColor: 'transparent',
                    color: '#374151',
                    border: 'none',
                    borderRadius: '12px',
                    cursor: 'pointer',
                    width: '40px',
                    height: '40px',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center'
                  }}
                >
                  <ZoomIn size={18} />
                </button>
                <button
                  onClick={handleZoomOut}
                  style={{
                    padding: '12px',
                    backgroundColor: 'transparent',
                    color: '#374151',
                    border: 'none',
                    borderRadius: '12px',
                    cursor: 'pointer',
                    width: '40px',
                    height: '40px',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center'
                  }}
                >
                  <ZoomOut size={18} />
                </button>
              </div>
            </div>

            {/* Booking Details Sidebar */}
            {selectedAccommodation && (
              <div style={{
                width: '400px',
                background: '#F9FAFB',
                overflow: 'auto',
                borderLeft: '1px solid #E5E7EB'
              }}>
                <div style={{
                  padding: '20px',
                  display: 'grid',
                  gap: '20px'
                }}>
                  {/* Header */}
                  <div style={{
                    background: '#FFFFFF',
                    borderRadius: '12px',
                    padding: '16px',
                    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.08)'
                  }}>
                    <img
                      src={selectedAccommodation.images[0]}
                      alt={selectedAccommodation.name}
                      style={{
                        width: '100%',
                        height: '120px',
                        borderRadius: '8px',
                        objectFit: 'cover',
                        marginBottom: '12px'
                      }}
                    />
                    <h1 style={{
                      fontSize: '18px',
                      fontWeight: '700',
                      color: '#1F2937',
                      margin: '0 0 8px 0'
                    }}>{selectedAccommodation.name}</h1>
                    <div style={{
                      display: 'flex',
                      alignItems: 'center',
                      gap: '6px',
                      marginBottom: '8px'
                    }}>
                      <div style={{
                        display: 'flex',
                        alignItems: 'center',
                        gap: '2px'
                      }}>
                        {[...Array(5)].map((_, i) => (
                          <span key={i} style={{
                            color: i < Math.floor(selectedAccommodation.rating) ? '#F59E0B' : '#E5E7EB',
                            fontSize: '12px'
                          }}>‚≠ê</span>
                        ))}
                      </div>
                      <span style={{
                        fontSize: '11px',
                        color: '#6B7280',
                        fontWeight: '500'
                      }}>{selectedAccommodation.rating} ({selectedAccommodation.reviews})</span>
                    </div>
                    <div style={{
                      display: 'flex',
                      alignItems: 'center',
                      gap: '6px',
                      marginBottom: '4px'
                    }}>
                      <MapPin size={12} color="#6B7280" />
                      <span style={{
                        fontSize: '11px',
                        color: '#6B7280'
                      }}>{selectedAccommodation.address}</span>
                    </div>
                    <div style={{
                      display: 'flex',
                      alignItems: 'center',
                      gap: '6px'
                    }}>
                      <Phone size={12} color="#6B7280" />
                      <span style={{
                        fontSize: '11px',
                        color: '#6B7280'
                      }}>{selectedAccommodation.phone}</span>
                    </div>
                  </div>

                  {/* Booking Form */}
                  <div style={{
                    background: '#FFFFFF',
                    borderRadius: '12px',
                    padding: '16px',
                    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.08)'
                  }}>
                    <h2 style={{
                      fontSize: '14px',
                      fontWeight: '600',
                      color: '#1F2937',
                      margin: '0 0 12px 0'
                    }}>Booking Details</h2>
                    
                    <div style={{
                      display: 'grid',
                      gap: '10px',
                      marginBottom: '12px'
                    }}>
                      <div>
                        <label style={{
                          display: 'block',
                          fontSize: '11px',
                          fontWeight: '600',
                          color: '#374151',
                          marginBottom: '4px'
                        }}>Check-in</label>
                        <input
                          type="date"
                          value={checkInDate}
                          onChange={(e) => setCheckInDate(e.target.value)}
                          style={{
                            width: '100%',
                            padding: '8px',
                            border: '1px solid #D1D5DB',
                            borderRadius: '6px',
                            fontSize: '11px'
                          }}
                        />
                      </div>
                      
                      <div>
                        <label style={{
                          display: 'block',
                          fontSize: '11px',
                          fontWeight: '600',
                          color: '#374151',
                          marginBottom: '4px'
                        }}>Check-out</label>
                        <input
                          type="date"
                          value={checkOutDate}
                          onChange={(e) => setCheckOutDate(e.target.value)}
                          style={{
                            width: '100%',
                            padding: '8px',
                            border: '1px solid #D1D5DB',
                            borderRadius: '6px',
                            fontSize: '11px'
                          }}
                        />
                      </div>
                      
                      <div>
                        <label style={{
                          display: 'block',
                          fontSize: '11px',
                          fontWeight: '600',
                          color: '#374151',
                          marginBottom: '4px'
                        }}>Guests</label>
                        <button
                          onClick={() => setShowGuestSelector(!showGuestSelector)}
                          style={{
                            width: '100%',
                            padding: '8px',
                            border: '1px solid #D1D5DB',
                            borderRadius: '6px',
                            fontSize: '11px',
                            background: '#FFFFFF',
                            cursor: 'pointer',
                            textAlign: 'left',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'space-between'
                          }}
                        >
                          <span>{guests.adults + guests.children} Guest{guests.adults + guests.children !== 1 ? 's' : ''}</span>
                          <span>‚ñº</span>
                        </button>
                      </div>
                    </div>
                    
                    {checkInDate && checkOutDate && (
                      <div style={{
                        background: '#F9FAFB',
                        padding: '10px',
                        borderRadius: '6px',
                        marginBottom: '12px'
                      }}>
                        <div style={{
                          display: 'flex',
                          justifyContent: 'space-between',
                          fontSize: '11px',
                          marginBottom: '4px'
                        }}>
                          <span style={{ color: '#6B7280' }}>Rate/night:</span>
                          <span style={{ fontWeight: '600' }}>R{selectedAccommodation.price}</span>
                        </div>
                        <div style={{
                          display: 'flex',
                          justifyContent: 'space-between',
                          fontSize: '11px',
                          marginBottom: '4px'
                        }}>
                          <span style={{ color: '#6B7280' }}>Nights:</span>
                          <span style={{ fontWeight: '600' }}>
                            {Math.max(1, Math.ceil((new Date(checkOutDate) - new Date(checkInDate)) / (1000 * 60 * 60 * 24)))}
                          </span>
                        </div>
                        <div style={{
                          borderTop: '1px solid #E5E7EB',
                          paddingTop: '4px',
                          display: 'flex',
                          justifyContent: 'space-between',
                          fontSize: '12px'
                        }}>
                          <span style={{ fontWeight: '700' }}>Total:</span>
                          <span style={{ fontWeight: '700', color: '#059669' }}>
                            R{selectedAccommodation.price * Math.max(1, Math.ceil((new Date(checkOutDate) - new Date(checkInDate)) / (1000 * 60 * 60 * 24)))}
                          </span>
                        </div>
                      </div>
                    )}
                    
                    <div style={{
                      display: 'grid',
                      gap: '6px'
                    }}>
                      <button
                        style={{
                          padding: '10px 12px',
                          background: '#059669',
                          color: '#FFFFFF',
                          border: 'none',
                          borderRadius: '6px',
                          fontSize: '12px',
                          fontWeight: '600',
                          cursor: 'pointer'
                        }}
                      >
                        üîí Book Now
                      </button>
                      
                      <button
                        style={{
                          padding: '10px 12px',
                          background: '#F97316',
                          color: '#FFFFFF',
                          border: 'none',
                          borderRadius: '6px',
                          fontSize: '12px',
                          fontWeight: '600',
                          cursor: 'pointer'
                        }}
                      >
                        üìß Send Enquiry
                      </button>
                    </div>
                  </div>
                  
                  {/* Amenities */}
                  <div style={{
                    background: '#FFFFFF',
                    borderRadius: '12px',
                    padding: '16px',
                    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.08)'
                  }}>
                    <h3 style={{
                      fontSize: '14px',
                      fontWeight: '600',
                      color: '#1F2937',
                      margin: '0 0 10px 0'
                    }}>Amenities</h3>
                    <div style={{
                      display: 'flex',
                      flexWrap: 'wrap',
                      gap: '4px'
                    }}>
                      {selectedAccommodation.amenities.map((amenity, index) => (
                        <span
                          key={index}
                          style={{
                            background: '#F3F4F6',
                            color: '#374151',
                            padding: '3px 8px',
                            borderRadius: '10px',
                            fontSize: '10px',
                            fontWeight: '500'
                          }}
                        >
                          {amenity}
                        </span>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            )}
                <div style={{
                  maxWidth: '800px',
                  margin: '0 auto',
                  display: 'grid',
                  gap: '24px'
                }}>
                  {/* Header */}
                  <div style={{
                    background: '#FFFFFF',
                    borderRadius: '16px',
                    padding: '24px',
                    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)'
                  }}>
                    <div style={{
                      display: 'flex',
                      alignItems: 'flex-start',
                      gap: '20px'
                    }}>
                      <img
                        src={selectedAccommodation.images[0]}
                        alt={selectedAccommodation.name}
                        style={{
                          width: '200px',
                          height: '150px',
                          borderRadius: '12px',
                          objectFit: 'cover'
                        }}
                      />
                      <div style={{ flex: 1 }}>
                        <h1 style={{
                          fontSize: '24px',
                          fontWeight: '800',
                          color: '#1F2937',
                          margin: '0 0 8px 0'
                        }}>{selectedAccommodation.name}</h1>
                        <div style={{
                          display: 'flex',
                          alignItems: 'center',
                          gap: '12px',
                          marginBottom: '12px'
                        }}>
                          <div style={{
                            display: 'flex',
                            alignItems: 'center',
                            gap: '4px'
                          }}>
                            {[...Array(5)].map((_, i) => (
                              <span key={i} style={{
                                color: i < Math.floor(selectedAccommodation.rating) ? '#F59E0B' : '#E5E7EB',
                                fontSize: '16px'
                              }}>‚≠ê</span>
                            ))}
                          </div>
                          <span style={{
                            fontSize: '14px',
                            color: '#374151',
                            fontWeight: '600'
                          }}>{selectedAccommodation.rating} ({selectedAccommodation.reviews} Reviews)</span>
                          <span style={{
                            fontSize: '12px',
                            backgroundColor: '#FEF3C7',
                            color: '#92400E',
                            padding: '4px 8px',
                            borderRadius: '6px',
                            fontWeight: '600'
                          }}>‚ú® Premium</span>
                        </div>
                        <div style={{
                          display: 'flex',
                          alignItems: 'center',
                          gap: '12px',
                          marginBottom: '8px'
                        }}>
                          <MapPin size={16} color="#6B7280" />
                          <span style={{
                            fontSize: '14px',
                            color: '#6B7280'
                          }}>{selectedAccommodation.address}</span>
                        </div>
                        <div style={{
                          display: 'flex',
                          alignItems: 'center',
                          gap: '12px'
                        }}>
                          <Phone size={16} color="#6B7280" />
                          <span style={{
                            fontSize: '14px',
                            color: '#6B7280'
                          }}>{selectedAccommodation.phone}</span>
                        </div>
                      </div>
                    </div>
                  </div>

                  {/* Booking Form */}
                  <div style={{
                    background: '#FFFFFF',
                    borderRadius: '16px',
                    padding: '24px',
                    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)'
                  }}>
                    <h2 style={{
                      fontSize: '20px',
                      fontWeight: '700',
                      color: '#1F2937',
                      margin: '0 0 20px 0'
                    }}>Booking Details</h2>
                    
                    <div style={{
                      display: 'grid',
                      gridTemplateColumns: '1fr 1fr 1fr',
                      gap: '16px',
                      marginBottom: '20px'
                    }}>
                      {/* Check-in Date */}
                      <div>
                        <label style={{
                          display: 'block',
                          fontSize: '14px',
                          fontWeight: '600',
                          color: '#374151',
                          marginBottom: '8px'
                        }}>Check-in</label>
                        <input
                          type="date"
                          value={checkInDate}
                          onChange={(e) => setCheckInDate(e.target.value)}
                          style={{
                            width: '100%',
                            padding: '12px',
                            border: '1px solid #D1D5DB',
                            borderRadius: '8px',
                            fontSize: '14px',
                            outline: 'none',
                            transition: 'all 150ms ease'
                          }}
                          onFocus={(e) => {
                            e.target.style.borderColor = '#6366F1';
                            e.target.style.boxShadow = '0 0 0 3px rgba(99, 102, 241, 0.1)';
                          }}
                          onBlur={(e) => {
                            e.target.style.borderColor = '#D1D5DB';
                            e.target.style.boxShadow = 'none';
                          }}
                        />
                      </div>
                      
                      {/* Check-out Date */}
                      <div>
                        <label style={{
                          display: 'block',
                          fontSize: '14px',
                          fontWeight: '600',
                          color: '#374151',
                          marginBottom: '8px'
                        }}>Check-out</label>
                        <input
                          type="date"
                          value={checkOutDate}
                          onChange={(e) => setCheckOutDate(e.target.value)}
                          style={{
                            width: '100%',
                            padding: '12px',
                            border: '1px solid #D1D5DB',
                            borderRadius: '8px',
                            fontSize: '14px',
                            outline: 'none',
                            transition: 'all 150ms ease'
                          }}
                          onFocus={(e) => {
                            e.target.style.borderColor = '#6366F1';
                            e.target.style.boxShadow = '0 0 0 3px rgba(99, 102, 241, 0.1)';
                          }}
                          onBlur={(e) => {
                            e.target.style.borderColor = '#D1D5DB';
                            e.target.style.boxShadow = 'none';
                          }}
                        />
                      </div>
                      
                      {/* Guests */}
                      <div style={{ position: 'relative' }}>
                        <label style={{
                          display: 'block',
                          fontSize: '14px',
                          fontWeight: '600',
                          color: '#374151',
                          marginBottom: '8px'
                        }}>Guests</label>
                        <button
                          onClick={() => setShowGuestSelector(!showGuestSelector)}
                          style={{
                            width: '100%',
                            padding: '12px',
                            border: '1px solid #D1D5DB',
                            borderRadius: '8px',
                            fontSize: '14px',
                            background: '#FFFFFF',
                            cursor: 'pointer',
                            textAlign: 'left',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'space-between'
                          }}
                        >
                          <span>{guests.adults + guests.children} Guest{guests.adults + guests.children !== 1 ? 's' : ''}</span>
                          <span style={{ transform: showGuestSelector ? 'rotate(180deg)' : 'rotate(0deg)', transition: 'transform 150ms ease' }}>‚ñº</span>
                        </button>
                        
                        {showGuestSelector && (
                          <div style={{
                            position: 'absolute',
                            top: '100%',
                            left: 0,
                            right: 0,
                            background: '#FFFFFF',
                            border: '1px solid #D1D5DB',
                            borderRadius: '8px',
                            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.12)',
                            zIndex: 10,
                            padding: '16px',
                            marginTop: '4px'
                          }}>
                            <div style={{
                              display: 'flex',
                              alignItems: 'center',
                              justifyContent: 'space-between',
                              marginBottom: '12px'
                            }}>
                              <span style={{ fontSize: '14px', fontWeight: '500' }}>Adults</span>
                              <div style={{
                                display: 'flex',
                                alignItems: 'center',
                                gap: '12px'
                              }}>
                                <button
                                  onClick={() => setGuests(prev => ({ ...prev, adults: Math.max(1, prev.adults - 1) }))}
                                  style={{
                                    width: '32px',
                                    height: '32px',
                                    border: '1px solid #D1D5DB',
                                    borderRadius: '50%',
                                    background: '#FFFFFF',
                                    cursor: 'pointer',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    fontSize: '16px'
                                  }}
                                >‚àí</button>
                                <span style={{ fontSize: '16px', fontWeight: '600', width: '20px', textAlign: 'center' }}>{guests.adults}</span>
                                <button
                                  onClick={() => setGuests(prev => ({ ...prev, adults: Math.min(selectedAccommodation.maxGuests, prev.adults + 1) }))}
                                  style={{
                                    width: '32px',
                                    height: '32px',
                                    border: '1px solid #D1D5DB',
                                    borderRadius: '50%',
                                    background: '#FFFFFF',
                                    cursor: 'pointer',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    fontSize: '16px'
                                  }}
                                >+</button>
                              </div>
                            </div>
                            <div style={{
                              display: 'flex',
                              alignItems: 'center',
                              justifyContent: 'space-between'
                            }}>
                              <span style={{ fontSize: '14px', fontWeight: '500' }}>Children</span>
                              <div style={{
                                display: 'flex',
                                alignItems: 'center',
                                gap: '12px'
                              }}>
                                <button
                                  onClick={() => setGuests(prev => ({ ...prev, children: Math.max(0, prev.children - 1) }))}
                                  style={{
                                    width: '32px',
                                    height: '32px',
                                    border: '1px solid #D1D5DB',
                                    borderRadius: '50%',
                                    background: '#FFFFFF',
                                    cursor: 'pointer',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    fontSize: '16px'
                                  }}
                                >‚àí</button>
                                <span style={{ fontSize: '16px', fontWeight: '600', width: '20px', textAlign: 'center' }}>{guests.children}</span>
                                <button
                                  onClick={() => setGuests(prev => ({ ...prev, children: Math.min(selectedAccommodation.maxGuests - guests.adults, prev.children + 1) }))}
                                  style={{
                                    width: '32px',
                                    height: '32px',
                                    border: '1px solid #D1D5DB',
                                    borderRadius: '50%',
                                    background: '#FFFFFF',
                                    cursor: 'pointer',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    fontSize: '16px'
                                  }}
                                >+</button>
                              </div>
                            </div>
                          </div>
                        )}
                      </div>
                    </div>
                    
                    {/* Booking Summary */}
                    {checkInDate && checkOutDate && (
                      <div style={{
                        background: '#F9FAFB',
                        padding: '16px',
                        borderRadius: '8px',
                        marginBottom: '20px'
                      }}>
                        <div style={{
                          display: 'flex',
                          justifyContent: 'space-between',
                          marginBottom: '8px'
                        }}>
                          <span style={{ fontSize: '14px', color: '#6B7280' }}>Rate per night:</span>
                          <span style={{ fontSize: '14px', fontWeight: '600' }}>R{selectedAccommodation.price}</span>
                        </div>
                        <div style={{
                          display: 'flex',
                          justifyContent: 'space-between',
                          marginBottom: '8px'
                        }}>
                          <span style={{ fontSize: '14px', color: '#6B7280' }}>Nights:</span>
                          <span style={{ fontSize: '14px', fontWeight: '600' }}>
                            {Math.max(1, Math.ceil((new Date(checkOutDate) - new Date(checkInDate)) / (1000 * 60 * 60 * 24)))}
                          </span>
                        </div>
                        <div style={{
                          borderTop: '1px solid #E5E7EB',
                          paddingTop: '8px',
                          display: 'flex',
                          justifyContent: 'space-between'
                        }}>
                          <span style={{ fontSize: '16px', fontWeight: '700' }}>Total:</span>
                          <span style={{ fontSize: '16px', fontWeight: '700', color: '#059669' }}>
                            R{selectedAccommodation.price * Math.max(1, Math.ceil((new Date(checkOutDate) - new Date(checkInDate)) / (1000 * 60 * 60 * 24)))}
                          </span>
                        </div>
                      </div>
                    )}
                    
                    {/* Booking Buttons */}
                    <div style={{
                      display: 'flex',
                      gap: '12px'
                    }}>
                      <button
                        style={{
                          flex: 1,
                          padding: '16px 24px',
                          background: '#059669',
                          color: '#FFFFFF',
                          border: 'none',
                          borderRadius: '12px',
                          fontSize: '16px',
                          fontWeight: '700',
                          cursor: 'pointer',
                          transition: 'all 200ms ease',
                          display: 'flex',
                          flexDirection: 'column',
                          alignItems: 'center',
                          justifyContent: 'center',
                          gap: '4px'
                        }}
                        onMouseEnter={(e) => {
                          e.target.style.background = '#047857';
                          e.target.style.transform = 'translateY(-2px)';
                          e.target.style.boxShadow = '0 8px 32px rgba(5, 150, 105, 0.3)';
                        }}
                        onMouseLeave={(e) => {
                          e.target.style.background = '#059669';
                          e.target.style.transform = 'translateY(0)';
                          e.target.style.boxShadow = 'none';
                        }}
                      >
                        <span>üîí Book Now</span>
                        <small style={{ fontSize: '12px', opacity: 0.9 }}>Secure via LekkerSlaap.co.za</small>
                      </button>
                      
                      <button
                        style={{
                          flex: 1,
                          padding: '16px 24px',
                          background: '#F97316',
                          color: '#FFFFFF',
                          border: 'none',
                          borderRadius: '12px',
                          fontSize: '16px',
                          fontWeight: '700',
                          cursor: 'pointer',
                          transition: 'all 200ms ease',
                          display: 'flex',
                          flexDirection: 'column',
                          alignItems: 'center',
                          justifyContent: 'center',
                          gap: '4px'
                        }}
                        onMouseEnter={(e) => {
                          e.target.style.background = '#EA580C';
                          e.target.style.transform = 'translateY(-2px)';
                          e.target.style.boxShadow = '0 8px 32px rgba(249, 115, 22, 0.3)';
                        }}
                        onMouseLeave={(e) => {
                          e.target.style.background = '#F97316';
                          e.target.style.transform = 'translateY(0)';
                          e.target.style.boxShadow = 'none';
                        }}
                      >
                        <span>üìß Send Booking Enquiry</span>
                        <small style={{ fontSize: '12px', opacity: 0.9 }}>Direct to {selectedAccommodation.name}</small>
                      </button>
                    </div>
                  </div>
                  
                  {/* Amenities */}
                  <div style={{
                    background: '#FFFFFF',
                    borderRadius: '16px',
                    padding: '24px',
                    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)'
                  }}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: '700',
                      color: '#1F2937',
                      margin: '0 0 16px 0'
                    }}>Amenities</h3>
                    <div style={{
                      display: 'flex',
                      flexWrap: 'wrap',
                      gap: '8px'
                    }}>
                      {selectedAccommodation.amenities.map((amenity, index) => (
                        <span
                          key={index}
                          style={{
                            background: '#F3F4F6',
                            color: '#374151',
                            padding: '8px 12px',
                            borderRadius: '20px',
                            fontSize: '14px',
                            fontWeight: '500'
                          }}
                        >
                          {amenity}
                        </span>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            )}
          </>
        )}

        {/* Ultra Modern Place Details Sidebar */}
        {selectedPlace && (
          <>
            <div style={{
              position: 'fixed',
              top: 0,
              left: 0,
              right: 0,
              bottom: 0,
              backgroundColor: 'rgba(0, 0, 0, 0.3)',
              zIndex: 899
            }} onClick={() => setSelectedPlace(null)} />
            
            <div style={{
              width: '360px',
              background: '#FFFFFF',
              display: 'flex',
              flexDirection: 'column',
              zIndex: 900,
              borderLeft: '1px solid rgba(255, 255, 255, 0.2)',
              boxShadow: '-8px 0 32px rgba(0, 0, 0, 0.1)'
            }}>
              <div style={{
                padding: '32px',
                borderBottom: '1px solid rgba(0, 0, 0, 0.06)'
              }}>
                <div style={{
                  display: 'flex',
                  alignItems: 'flex-start',
                  justifyContent: 'space-between',
                  marginBottom: '20px'
                }}>
                  <div style={{
                    display: 'inline-flex',
                    alignItems: 'center',
                    gap: '10px',
                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                    color: '#FFFFFF',
                    padding: '8px 16px',
                    borderRadius: '20px',
                    fontSize: '13px',
                    fontWeight: '600',
                    boxShadow: '0 4px 20px rgba(102, 126, 234, 0.3)'
                  }}>
                    <span>{categories.find(c => c.name === selectedPlace.category)?.icon}</span>
                    <span>{selectedPlace.category}</span>
                  </div>
                  
                  <button
                    onClick={() => setSelectedPlace(null)}
                    style={{
                      padding: '10px',
                      backgroundColor: 'rgba(0, 0, 0, 0.05)',
                      border: 'none',
                      borderRadius: '12px',
                      cursor: 'pointer',
                      color: '#6B7280',
                      transition: 'all 150ms ease'
                    }}
                    onMouseEnter={(e) => {
                      e.target.style.backgroundColor = 'rgba(0, 0, 0, 0.1)';
                      e.target.style.transform = 'scale(1.05)';
                    }}
                    onMouseLeave={(e) => {
                      e.target.style.backgroundColor = 'rgba(0, 0, 0, 0.05)';
                      e.target.style.transform = 'scale(1)';
                    }}
                  >
                    <X size={20} />
                  </button>
                </div>
                
                <h1 style={{
                  fontSize: '22px',
                  fontWeight: '800',
                  color: '#1F2937',
                  margin: '0 0 20px 0',
                  lineHeight: '1.2',
                  letterSpacing: '-0.5px'
                }}>{selectedPlace.name}</h1>
                
                <img
                  src={selectedPlace.image}
                  alt={selectedPlace.name}
                  style={{
                    width: '100%',
                    height: '220px',
                    borderRadius: '20px',
                    objectFit: 'cover',
                    marginBottom: '20px',
                    boxShadow: '0 8px 32px rgba(0, 0, 0, 0.12)'
                  }}
                />
                
                <p style={{
                  fontSize: '15px',
                  color: '#6B7280',
                  lineHeight: '1.6',
                  margin: '0 0 20px 0'
                }}>{selectedPlace.description}</p>
                
                <div style={{
                  display: 'flex',
                  alignItems: 'center',
                  gap: '10px',
                  fontSize: '14px',
                  color: '#9CA3AF',
                  marginBottom: '28px',
                  padding: '12px 16px',
                  backgroundColor: 'rgba(0, 0, 0, 0.03)',
                  borderRadius: '12px'
                }}>
                  <MapPin size={16} />
                  <span>{selectedPlace.address}</span>
                </div>
                
                <div style={{
                  display: 'grid',
                  gridTemplateColumns: 'repeat(3, 1fr)',
                  gap: '12px'
                }}>
                  {[
                    { icon: Phone, label: 'Call', color: '#10B981' },
                    { icon: Navigation, label: 'Directions', color: '#3B82F6' },
                    { icon: Globe, label: 'Website', color: '#8B5CF6' }
                  ].map((action, idx) => (
                    <button
                      key={idx}
                      style={{
                        padding: '12px 10px',
                        background: 'rgba(255, 255, 255, 0.8)',
                        border: '1px solid rgba(0, 0, 0, 0.06)',
                        borderRadius: '16px',
                        cursor: 'pointer',
                        display: 'flex',
                        flexDirection: 'column',
                        alignItems: 'center',
                        gap: '8px',
                        fontSize: '13px',
                        fontWeight: '600',
                        color: action.color,
                        transition: 'all 200ms ease'
                      }}
                      onMouseEnter={(e) => {
                        e.target.style.backgroundColor = 'rgba(255, 255, 255, 0.95)';
                        e.target.style.transform = 'translateY(-2px)';
                        e.target.style.boxShadow = '0 8px 32px rgba(0, 0, 0, 0.1)';
                      }}
                      onMouseLeave={(e) => {
                        e.target.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';
                        e.target.style.transform = 'translateY(0)';
                        e.target.style.boxShadow = 'none';
                      }}
                    >
                      <action.icon size={20} />
                      <span>{action.label}</span>
                    </button>
                  ))}
                </div>
              </div>
              
              <div style={{
                padding: '32px',
                background: 'linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%)',
                borderRadius: '0 0 0 24px'
              }}>
                <h3 style={{
                  fontSize: '18px',
                  fontWeight: '700',
                  color: '#374151',
                  margin: '0 0 20px 0'
                }}>Business Owner?</h3>
                
                <div style={{
                  display: 'flex',
                  flexDirection: 'column',
                  gap: '12px'
                }}>
                  <button style={{
                    padding: '14px 20px',
                    background: 'rgba(255, 255, 255, 0.9)',
                    border: '1px solid rgba(0, 0, 0, 0.06)',
                    borderRadius: '16px',
                    cursor: 'pointer',
                    fontSize: '14px',
                    fontWeight: '600',
                    color: '#374151',
                    transition: 'all 200ms ease',
                    display: 'flex',
                    alignItems: 'center',
                    gap: '10px',
                    backdropFilter: 'blur(10px)'
                  }}
                  onMouseEnter={(e) => {
                    e.target.style.transform = 'translateY(-1px)';
                    e.target.style.boxShadow = '0 4px 16px rgba(0, 0, 0, 0.1)';
                  }}
                  onMouseLeave={(e) => {
                    e.target.style.transform = 'translateY(0)';
                    e.target.style.boxShadow = 'none';
                  }}
                  >
                    ‚úèÔ∏è Claim This Listing
                  </button>
                  
                  <button style={{
                    padding: '14px 20px',
                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                    border: 'none',
                    borderRadius: '16px',
                    cursor: 'pointer',
                    fontSize: '14px',
                    fontWeight: '600',
                    color: '#FFFFFF',
                    transition: 'all 200ms ease',
                    display: 'flex',
                    alignItems: 'center',
                    gap: '10px',
                    boxShadow: '0 4px 20px rgba(102, 126, 234, 0.3)'
                  }}
                  onMouseEnter={(e) => {
                    e.target.style.transform = 'translateY(-2px)';
                    e.target.style.boxShadow = '0 8px 32px rgba(102, 126, 234, 0.4)';
                  }}
                  onMouseLeave={(e) => {
                    e.target.style.transform = 'translateY(0)';
                    e.target.style.boxShadow = '0 4px 20px rgba(102, 126, 234, 0.3)';
                  }}
                  >
                    üì¢ Promote Your Business
                  </button>
                </div>
              </div>
            </div>
          </>
        )}
      </div>
    </div>
  );
};

export default App;
